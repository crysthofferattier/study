#!/usr/bin/python

import socket
import sys
import time

def banner():
	print("Test connection with FTP")


def check_arguments():
	if len(sys.argv) != 3:
		print("Missing arguments")
		print("Example: " + sys.argv[0] + " [host-ip] [port]")
		print("Usage: " + sys.argv[0] + " 192.168.0.2 21")
		exit()

def sleep_two_seconds():
	time.sleep(2)

def connect(host, port):
	sck = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
	sck.connect((host, port))

	sleep_two_seconds()
	
	banner = sck.recv(4096)
	print(banner)

	sck.send("USER anonymous\r\n")
	banner = sck.recv(4096)
	print(banner)

	sck.send("PASS anonymous\r\n")
	banner = sck.recv(4096)
	print(banner)


def main():
	check_arguments()
	connect(sys.argv[1], int(sys.argv[2]))

main()